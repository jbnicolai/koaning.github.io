<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Casino Gambling Simulations in R — koaning.io</title>
  <link rel="shortcut icon" href="data:image/x-icon;," type="image/x-icon">
	<meta name="description" content="Title: Casino Gambling Simulations in R; Date: 2015-04-18; Author: Vincent D. Warmerdam">
	<meta name="author" content="Vincent D. Warmerdam">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" type="text/css" href="/theme/css/bootstrap.css">
  <link rel="stylesheet" type="text/css" href="/theme/css/style.css">
  <script async type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-MML-AM_CHTML">
</script>
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
  </script>
</head>
<body>
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <br>
    		<h1><a class="web_title" href="/">koaning.io</a></h1>
        <blockquote>
          <p class="pull-left">Blog of a data scientist/developer </p>
          <p class="pull-right"><a href="https://nl.linkedin.com/in/vincentwarmerdam"> &nbsp; keyword bingo</a></p>
          <p class="pull-right"><a href="https://twitter.com/fishnets88"> &nbsp; twitter</a></p>
          <p class="pull-right"><a href="/feeds/rss.xml"> &nbsp; rss</a></p>
        </blockquote>
    		<br><br>
      </div>
    </div>
  	<div class="row">
  		<div class="col-md-12">
<div class="article" itemscope itemtype="http://schema.org/BlogPosting">
	<div class="text-center article-header">
		<h1 itemprop="name headline" class="article-title">Casino Gambling Simulations in R</h1>
		<span itemprop="author" itemscope itemtype="http://schema.org/Person"></span>
		<time datetime="2015-04-18T00:00:00+02:00" itemprop="datePublished">Sat 18 April 2015</time>
	</div>
	<br><br>
	<div itemprop="articleBody" class="article-body"><p>A friend of mine once told me a 'flawless' tactic for beating the roulette game.</p>

<div class="codehilite"><pre><span class="mf">1.</span> <span class="n">bet</span> <span class="n">on</span> <span class="n">black</span> 
  <span class="o">-</span> <span class="k">if</span> <span class="n">you</span> <span class="n">lose</span><span class="p">,</span> <span class="n">bet</span> <span class="n">on</span> <span class="n">black</span> <span class="n">again</span> <span class="n">but</span> <span class="n">now</span> <span class="kt">double</span> <span class="n">the</span> <span class="n">amount</span>
    <span class="o">-</span> <span class="k">if</span> <span class="n">you</span> <span class="n">win</span> <span class="n">now</span><span class="p">,</span> <span class="n">you</span> <span class="n">will</span> <span class="n">have</span> <span class="n">not</span> <span class="n">lost</span> <span class="n">any</span> <span class="n">money</span> 
    <span class="o">-</span> <span class="k">if</span> <span class="n">you</span> <span class="n">lose</span> <span class="n">again</span><span class="p">,</span> <span class="n">bet</span> <span class="n">on</span> <span class="n">black</span> <span class="n">again</span> <span class="n">but</span> <span class="n">now</span> <span class="kt">double</span> <span class="n">the</span> <span class="n">amount</span> 
      <span class="o">-</span> <span class="k">if</span> <span class="n">you</span> <span class="n">win</span> <span class="n">now</span><span class="p">,</span> <span class="n">you</span> <span class="n">will</span> <span class="n">have</span> <span class="n">not</span> <span class="n">lost</span> <span class="n">any</span> <span class="n">money</span> 
      <span class="o">-</span> <span class="k">if</span> <span class="n">you</span> <span class="n">lose</span> <span class="n">again</span><span class="p">,</span> <span class="n">bet</span> <span class="n">on</span> <span class="n">black</span> <span class="n">again</span> <span class="n">but</span> <span class="n">now</span> <span class="kt">double</span> <span class="n">the</span> <span class="n">amount</span> 
        <span class="o">-</span> <span class="k">if</span> <span class="n">you</span> <span class="n">win</span> <span class="n">now</span><span class="p">,</span> <span class="n">you</span> <span class="n">will</span> <span class="n">have</span> <span class="n">not</span> <span class="n">lost</span> <span class="n">any</span> <span class="n">money</span> 
        <span class="o">-</span> <span class="k">if</span> <span class="n">you</span> <span class="n">lose</span> <span class="n">again</span><span class="p">,</span> <span class="n">bet</span> <span class="n">on</span> <span class="n">black</span> <span class="n">again</span> <span class="n">but</span> <span class="n">now</span> <span class="kt">double</span> <span class="n">the</span> <span class="n">amount</span> 
          <span class="n">etc</span> <span class="p">...</span> 
  <span class="o">-</span> <span class="k">if</span> <span class="n">you</span> <span class="n">win</span><span class="p">,</span> <span class="n">profit</span><span class="o">!</span> 
<span class="mf">2.</span> <span class="n">repeat</span> 
</pre></div>

<p>The idea is that the probability of always getting red converges to zero and as of such you should always be able to win lost money back.</p>

<p>In this document I will explain why this tactic is flawed via probability theory as well as simulations. As a seperate goal, this document will also help explain simulation and lazy plotting patterns in R.</p>

<h2>Simulating Gambles in R</h2>

<p>Let's start by first simulating and drawing a random path. For these first simulations we will assume that everytime you gamble you win some or lose some depending on the output of a cointoss. A possible way of simulating this can be via;</p>

<div class="codehilite"><pre><span class="nx">randints</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">sample</span><span class="p">(</span><span class="nx">c</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">),</span> <span class="nx">num</span><span class="p">,</span> <span class="nx">replace</span> <span class="o">=</span> <span class="nx">TRUE</span><span class="p">)</span>
<span class="p">}</span>

<span class="nx">df1</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">frame</span><span class="p">(</span><span class="nx">cs</span> <span class="o">=</span> <span class="nx">cumsum</span><span class="p">(</span><span class="nx">randints</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span> <span class="nx">t</span> <span class="o">=</span> <span class="mi">1</span><span class="o">:</span><span class="mi">100</span><span class="p">)</span>
<span class="nx">ggplot</span><span class="p">()</span> <span class="o">+</span> <span class="nx">geom_line</span><span class="p">(</span><span class="nx">data</span> <span class="o">=</span> <span class="nx">df1</span><span class="p">,</span> <span class="nx">aes</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span> <span class="nx">cs</span><span class="p">),</span> <span class="nx">alpha</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>
</pre></div>

<p><img alt="gr1" src="/theme/images/r-gamblers-ruin/gr1.png"></p>

<p>Simulating another such line and adding that to the plot is straightforward.</p>

<div class="codehilite"><pre><span class="n">df2</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="n">cs</span> <span class="o">=</span> <span class="n">cumsum</span><span class="p">(</span><span class="n">randints</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">1</span><span class="o">:</span><span class="mi">100</span><span class="p">)</span>
<span class="n">df3</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="n">cs</span> <span class="o">=</span> <span class="n">cumsum</span><span class="p">(</span><span class="n">randints</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span> <span class="n">t</span> <span class="o">=</span> <span class="mi">1</span><span class="o">:</span><span class="mi">100</span><span class="p">)</span>
<span class="n">ggplot</span><span class="p">()</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">df1</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">cs</span><span class="p">),</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">df2</span><span class="p">,</span> 
    <span class="n">aes</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">cs</span><span class="p">),</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">df3</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">cs</span><span class="p">),</span> <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.8</span><span class="p">)</span>
</pre></div>

<p><img alt="gr2" src="/theme/images/r-gamblers-ruin/gr2.png"></p>

<p>The code can be made more elegant by exploiting the lazy evaluation of the ggplot2 library. You don't need to write a single line of <code>... + geom_line() + geom_line() + ...</code> code. You can append it to a variable instead.</p>

<div class="codehilite"><pre><span class="n">df3</span> <span class="o">=</span> <span class="n">data</span><span class="p">.</span><span class="n">frame</span><span class="p">(</span><span class="n">cs</span><span class="o">=</span><span class="n">cumsum</span><span class="p">(</span><span class="n">randints</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span> <span class="n">t</span><span class="o">=</span><span class="mi">1</span><span class="o">:</span><span class="mi">100</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">ggplot</span><span class="p">()</span> 
<span class="n">p</span> <span class="o">=</span> <span class="n">p</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df1</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">cs</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"red"</span><span class="p">)</span> 
<span class="n">p</span> <span class="o">=</span> <span class="n">p</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df2</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">cs</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"green"</span><span class="p">)</span>
<span class="n">p</span> <span class="o">=</span> <span class="n">p</span> <span class="o">+</span> <span class="n">geom_line</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">df3</span><span class="p">,</span> <span class="n">aes</span><span class="p">(</span><span class="n">t</span><span class="p">,</span><span class="n">cs</span><span class="p">),</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">0.8</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s">"blue"</span><span class="p">)</span>
<span class="n">p</span> 
</pre></div>

<p><img alt="gr3" src="/theme/images/r-gamblers-ruin/gr3.png"></p>

<p>This is a more favorable pattern. You can keep adding plotting layers (from different datasets) to the variable <code>p</code> and it will not draw a single pixel until you call <code>p</code> at the end. It is clear for a user to see, line by line, that new layers are being added to the layer and you can use this pattern within a forloop. This means that you can do many simulations and draw them from a single function. </p>

<div class="codehilite"><pre><span class="nx">gamble_plot</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nruns</span><span class="p">){</span>
  <span class="nx">p</span> <span class="o">=</span> <span class="nx">ggplot</span><span class="p">()</span>  
  <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">:</span><span class="nx">nruns</span><span class="p">){</span>
    <span class="nx">df</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">frame</span><span class="p">(</span><span class="nx">cs</span><span class="o">=</span><span class="nx">cumsum</span><span class="p">(</span><span class="nx">randints</span><span class="p">(</span><span class="mi">100</span><span class="p">)),</span> <span class="nx">t</span><span class="o">=</span><span class="mi">1</span><span class="o">:</span><span class="mi">100</span><span class="p">)</span>
    <span class="nx">p</span> <span class="o">=</span> <span class="nx">p</span> <span class="o">+</span> <span class="nx">geom_line</span><span class="p">(</span><span class="nx">data</span><span class="o">=</span><span class="nx">df</span><span class="p">,</span> <span class="nx">aes</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">cs</span><span class="p">),</span> <span class="nx">alpha</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">p</span>
<span class="p">}</span>

<span class="nx">gamble_plot</span><span class="p">(</span><span class="mi">300</span><span class="p">)</span>
</pre></div>

<p><img alt="gr4" src="/theme/images/r-gamblers-ruin/gr4.png"></p>

<p>In this pattern it is also relatively easy to assign colors to series of gamblers if they result in a long term profit or loss. Also, it might make sense to have the length of the random path be an input for our simulation function.</p>

<div class="codehilite"><pre><span class="nx">gamble_plot</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">nruns</span><span class="p">,</span> <span class="nx">len</span><span class="p">){</span>
  <span class="nx">p</span> <span class="o">=</span> <span class="nx">ggplot</span><span class="p">()</span>  
  <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">:</span><span class="nx">nruns</span><span class="p">){</span>
    <span class="nx">color</span> <span class="o">=</span> <span class="s2">"darkgreen"</span>
    <span class="nx">df</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">frame</span><span class="p">(</span><span class="nx">cs</span><span class="o">=</span><span class="nx">cumsum</span><span class="p">(</span><span class="nx">randints</span><span class="p">(</span><span class="nx">len</span><span class="p">)),</span> <span class="nx">t</span><span class="o">=</span><span class="mi">1</span><span class="o">:</span><span class="nx">len</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">select</span><span class="p">(</span><span class="nx">df</span><span class="p">,</span> <span class="nx">cs</span><span class="p">)</span><span class="cp">[</span><span class="nx">len</span><span class="p">,</span><span class="cp">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="nx">color</span> <span class="o">=</span> <span class="s2">"darkorange"</span>
    <span class="nx">p</span> <span class="o">=</span> <span class="nx">p</span> <span class="o">+</span> <span class="nx">geom_line</span><span class="p">(</span><span class="nx">data</span><span class="o">=</span><span class="nx">df</span><span class="p">,</span> <span class="nx">aes</span><span class="p">(</span><span class="nx">t</span><span class="p">,</span><span class="nx">cs</span><span class="p">),</span> <span class="nx">alpha</span><span class="o">=</span><span class="mf">0.4</span><span class="p">,</span> <span class="nx">color</span><span class="o">=</span><span class="nx">color</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">p</span>
<span class="p">}</span>

<span class="nx">gamble_plot</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">200</span><span class="p">)</span>
</pre></div>

<p><img alt="gr5" src="/theme/images/r-gamblers-ruin/gr5.png"></p>

<h3>Casino Royale</h3>

<p>Using this plotting pattern, let's simulate the results from the 'flawless' roulette tactic. The following functions help the simulation.</p>

<div class="codehilite"><pre><span class="nx">gamble</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">moneyin</span><span class="p">){</span>
  <span class="k">if</span><span class="p">(</span> <span class="nx">runif</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.5</span> <span class="p">)</span> <span class="k">return</span><span class="p">(</span><span class="nx">moneyin</span><span class="p">)</span> <span class="err">#</span> <span class="nx">result</span> <span class="nx">is</span> <span class="nx">black</span>
  <span class="o">-</span><span class="nx">moneyin</span> <span class="err">#</span> <span class="nx">result</span> <span class="nx">is</span> <span class="nx">red</span>
<span class="p">}</span>

<span class="nx">nextm</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">gamble</span><span class="p">,</span> <span class="nx">outcome</span><span class="p">){</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">outcome</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nx">gamble</span><span class="p">)</span> <span class="err">#</span><span class="nx">on</span> <span class="nx">lose</span> <span class="nx">we</span> <span class="kr">double</span> <span class="nx">the</span> <span class="nx">money</span>
  <span class="mi">1</span>
<span class="p">}</span>

<span class="nx">simulate</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">maxt</span><span class="p">){</span>
  <span class="nx">df</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">frame</span><span class="p">(</span><span class="nx">time</span><span class="o">=</span><span class="nx">as</span><span class="p">.</span><span class="nx">numeric</span><span class="p">(</span><span class="nx">c</span><span class="p">()),</span> <span class="nx">money</span><span class="o">=</span><span class="nx">as</span><span class="p">.</span><span class="nx">numeric</span><span class="p">(</span><span class="nx">c</span><span class="p">()))</span>
  <span class="nx">move</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="nx">outcome</span> <span class="o">=</span> <span class="mi">0</span>
  <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">:</span><span class="nx">maxt</span><span class="p">){</span>
    <span class="nx">move</span> <span class="o">=</span> <span class="nx">nextm</span><span class="p">(</span><span class="nx">move</span><span class="p">,</span> <span class="nx">outcome</span><span class="p">)</span>
    <span class="nx">outcome</span> <span class="o">=</span> <span class="nx">gamble</span><span class="p">(</span><span class="nx">move</span><span class="p">)</span>
    <span class="nx">df</span> <span class="o">=</span> <span class="nx">rbind</span><span class="p">(</span><span class="nx">df</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">frame</span><span class="p">(</span><span class="nx">time</span><span class="o">=</span><span class="nx">i</span><span class="p">,</span> <span class="nx">money</span><span class="o">=</span><span class="nx">outcome</span><span class="p">))</span>
  <span class="p">}</span>
  <span class="nx">df$money</span> <span class="o">=</span> <span class="nx">cumsum</span><span class="p">(</span><span class="nx">df$money</span><span class="p">)</span>
  <span class="nx">df</span>
<span class="p">}</span>

<span class="nx">gamblersruin</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">num</span><span class="p">,</span> <span class="nx">maxsim</span><span class="p">){</span>
  <span class="nx">p</span> <span class="o">=</span> <span class="nx">ggplot</span><span class="p">()</span> 
  <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">:</span><span class="nx">num</span><span class="p">){</span>
    <span class="nx">df</span> <span class="o">=</span> <span class="nx">simulate</span><span class="p">(</span><span class="nx">maxsim</span><span class="p">)</span>
    <span class="nx">p</span> <span class="o">=</span> <span class="nx">p</span> <span class="o">+</span> <span class="nx">geom_line</span><span class="p">(</span><span class="nx">data</span><span class="o">=</span><span class="nx">df</span><span class="p">,</span> <span class="nx">aes</span><span class="p">(</span><span class="nx">time</span><span class="p">,</span><span class="nx">money</span><span class="p">),</span> <span class="nx">alpha</span><span class="o">=</span><span class="mf">0.3</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">p</span>
<span class="p">}</span>
</pre></div>

<p>Notice that I am assuming the probability of getting black (<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-1-Frame"><nobr><span class="math" id="MathJax-Span-1" role="math" style="width: 1.363em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.08em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.76em 1000.003em 2.781em -999.997em); top: -2.378em; left: 0.003em;"><span class="mrow" id="MathJax-Span-2"><span class="msubsup" id="MathJax-Span-3"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-4" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-5" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.384em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.932em; vertical-align: -0.354em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-1">p_B</script>) and the getting (<span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-2-Frame"><nobr><span class="math" id="MathJax-Span-6" role="math" style="width: 1.363em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.08em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.76em 1000.003em 2.781em -999.997em); top: -2.378em; left: 0.003em;"><span class="mrow" id="MathJax-Span-7"><span class="msubsup" id="MathJax-Span-8"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-9" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-10" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.384em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.932em; vertical-align: -0.354em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-2">p_R</script>) to be equal to <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-3-Frame"><nobr><span class="math" id="MathJax-Span-11" role="math" style="width: 1.647em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.307em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.704em 1000.003em 2.724em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-12"><span class="mn" id="MathJax-Span-13" style="font-family: STIXGeneral-Regular;">0.5</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.004em; vertical-align: -0.068em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-3">0.5</script> for now. This is not how a casino would play roulette but we will use it as an upper bound. If I can show that in this optimistic version of roulette the outcome of this tactic is doubtful then it will surely fail in a more realistic roulette game. Later we will also consider a more realistic roulette game. </p>

<p>Let's run some results. </p>

<div class="codehilite"><pre><span class="n">set</span><span class="p">.</span><span class="n">seed</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">gamblersruin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">100</span><span class="p">)</span> <span class="o">+</span> <span class="n">ggtitle</span><span class="p">(</span><span class="err">'</span><span class="n">single</span> <span class="n">simulation</span><span class="p">,</span> <span class="mi">100</span> <span class="n">bets</span><span class="err">'</span><span class="p">)</span>
<span class="n">gamblersruin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">1000</span><span class="p">)</span> <span class="o">+</span> <span class="n">ggtitle</span><span class="p">(</span><span class="err">'</span><span class="n">single</span> <span class="n">simulation</span><span class="p">,</span> <span class="mi">1000</span> <span class="n">bets</span><span class="err">'</span><span class="p">)</span>
<span class="n">gamblersruin</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10000</span><span class="p">)</span> <span class="o">+</span> <span class="n">ggtitle</span><span class="p">(</span><span class="err">'</span><span class="n">single</span> <span class="n">simulation</span><span class="p">,</span> <span class="mi">10000</span> <span class="n">bets</span><span class="err">'</span><span class="p">)</span>
</pre></div>

<p><img alt="gr6" src="/theme/images/r-gamblers-ruin/gr6.png">
<img alt="gr7" src="/theme/images/r-gamblers-ruin/gr7.png">
<img alt="gr8" src="/theme/images/r-gamblers-ruin/gr8.png"></p>

<p>Ouch, on the long term it does seem like you are making a net profit but you are not without risk. The probability of getting red 12 times in a row is small but when you are playing this game for a very long time then this event suddenly becomes likely. And when it happens you need to compensate with <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-4-Frame"><nobr><span class="math" id="MathJax-Span-14" role="math" style="width: 1.76em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.363em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.307em 1000.003em 2.554em -999.997em); top: -2.378em; left: 0.003em;"><span class="mrow" id="MathJax-Span-15"><span class="msubsup" id="MathJax-Span-16"><span style="display: inline-block; position: relative; width: 1.307em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mn" id="MathJax-Span-17" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.513em;"><span class="texatom" id="MathJax-Span-18"><span class="mrow" id="MathJax-Span-19"><span class="mn" id="MathJax-Span-20" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">12</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.384em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.289em; vertical-align: -0.068em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-4">2^{12}</script> cash. </p>

<h3>Probability Theory</h3>

<p>So the simulations are giving us reasons to be pessimistic about the tactic, but the long term end result does seem to be positive. What does mathematics tell us? </p>

<p>I will be a bit formal here, but thats a given when dealing with math. Suppose that we play the roulette game until we have made a profit of 0 or 1. Let's consider this outcome to be a stochastic variable <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-5-Frame"><nobr><span class="math" id="MathJax-Span-21" role="math" style="width: 0.967em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.74em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.704em 1000.003em 2.724em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-22"><span class="mi" id="MathJax-Span-23" style="font-family: STIXGeneral-Italic;">G</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.004em; vertical-align: -0.068em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-5">G</script>. Note that a single game <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-6-Frame"><nobr><span class="math" id="MathJax-Span-24" role="math" style="width: 0.967em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.74em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.704em 1000.003em 2.724em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-25"><span class="mi" id="MathJax-Span-26" style="font-family: STIXGeneral-Italic;">G</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.004em; vertical-align: -0.068em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-6">G</script> can have multiple bets. </p>

<p>Then also let <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-7-Frame"><nobr><span class="math" id="MathJax-Span-27" role="math" style="width: 1.363em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.08em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.76em 1000.003em 2.781em -999.997em); top: -2.378em; left: 0.003em;"><span class="mrow" id="MathJax-Span-28"><span class="msubsup" id="MathJax-Span-29"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-30" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-31" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.384em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.932em; vertical-align: -0.354em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-7">p_B</script> be the probability for getting black, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-8-Frame"><nobr><span class="math" id="MathJax-Span-32" role="math" style="width: 1.363em; display: inline-block;"><span style="display: inline-block; position: relative; width: 1.08em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.76em 1000.003em 2.781em -999.997em); top: -2.378em; left: 0.003em;"><span class="mrow" id="MathJax-Span-33"><span class="msubsup" id="MathJax-Span-34"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-35" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-36" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.384em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.932em; vertical-align: -0.354em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-8">p_R</script> the probability for getting red, <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-9-Frame"><nobr><span class="math" id="MathJax-Span-37" role="math" style="width: 1.25em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.967em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.76em 1000.003em 2.724em -999.997em); top: -2.378em; left: 0.003em;"><span class="mrow" id="MathJax-Span-38"><span class="msubsup" id="MathJax-Span-39"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-40" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.4em;"><span class="mi" id="MathJax-Span-41" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.384em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.861em; vertical-align: -0.282em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-9">s_B</script> the payout for getting the state of black and <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-10-Frame"><nobr><span class="math" id="MathJax-Span-42" role="math" style="width: 1.25em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.967em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.76em 1000.003em 2.724em -999.997em); top: -2.378em; left: 0.003em;"><span class="mrow" id="MathJax-Span-43"><span class="msubsup" id="MathJax-Span-44"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-45" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.4em;"><span class="mi" id="MathJax-Span-46" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.384em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.861em; vertical-align: -0.282em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-10">s_R</script> the payout for getting the state of red. </p>

<p><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-11-Frame"><nobr><span class="math" id="MathJax-Span-47" role="math" style="width: 25.74em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.411em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(0.513em 1000.003em 3.744em -999.997em); top: -2.378em; left: 0.003em;"><span class="mrow" id="MathJax-Span-48"><span class="mtable" id="MathJax-Span-49" style="padding-right: 0.173em; padding-left: 0.173em;"><span style="display: inline-block; position: relative; width: 20.014em; height: 0px;"><span style="position: absolute; clip: rect(3.121em 1000.003em 4.311em -999.997em); top: -4.022em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 1.987em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.368em -999.997em); top: -4.079em; right: 0.003em;"><span class="mtd" id="MathJax-Span-50"><span class="mrow" id="MathJax-Span-51"><span class="texatom" id="MathJax-Span-52"><span class="mrow" id="MathJax-Span-53"><span class="mi" id="MathJax-Span-54" style="font-family: STIXGeneral-Regular;">𝔼</span></span></span><span class="mo" id="MathJax-Span-55" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-56" style="font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-57" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(2.157em 1000.003em 5.388em -999.997em); top: -4.022em; left: 1.987em;"><span style="display: inline-block; position: relative; width: 18.03em; height: 0px;"><span style="position: absolute; clip: rect(2.27em 1000.003em 5.445em -999.997em); top: -4.079em; left: 0.003em;"><span class="mtd" id="MathJax-Span-58"><span class="mrow" id="MathJax-Span-59"><span class="mi" id="MathJax-Span-60"></span><span class="mo" id="MathJax-Span-61" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="msubsup" id="MathJax-Span-62" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-63" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-64" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-65"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-66" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.4em;"><span class="mi" id="MathJax-Span-67" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-68" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">+</span><span class="msubsup" id="MathJax-Span-69" style="padding-left: 0.23em;"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-70" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-71" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-72"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-73" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.4em;"><span class="mi" id="MathJax-Span-74" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-75" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mfrac" id="MathJax-Span-76" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 0.626em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-77" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -3.342em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-78" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 0.626em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mo" id="MathJax-Span-79" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">+</span><span class="munderover" id="MathJax-Span-80" style="padding-left: 0.23em;"><span style="display: inline-block; position: relative; width: 1.307em; height: 0px;"><span style="position: absolute; clip: rect(2.894em 1000.003em 4.651em -999.997em); top: -4.022em; left: 0.003em;"><span class="mo" id="MathJax-Span-81" style="font-family: STIXSizeOneSym; vertical-align: -0.507em;">∑</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.348em 1000.003em 4.311em -999.997em); top: -2.888em; left: 0.06em;"><span class="texatom" id="MathJax-Span-82"><span class="mrow" id="MathJax-Span-83"><span class="mi" id="MathJax-Span-84" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-85" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-86" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.461em 1000.003em 4.198em -999.997em); top: -5.213em; left: 0.343em;"><span class="mi" id="MathJax-Span-87" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∞</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-88" style="padding-left: 0.173em;"><span style="display: inline-block; position: relative; width: 1.76em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-89" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.348em 1000.003em 4.198em -999.997em); top: -4.362em; left: 0.513em;"><span class="texatom" id="MathJax-Span-90"><span class="mrow" id="MathJax-Span-91"><span class="mi" id="MathJax-Span-92" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-93" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-94" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -3.739em; left: 0.513em;"><span class="mi" id="MathJax-Span-95" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-96"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-97" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-98" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-99" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">×</span><span class="mn" id="MathJax-Span-100" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">0</span><span class="mo" id="MathJax-Span-101" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mfrac" id="MathJax-Span-102" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 0.626em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-103" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -3.342em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-104" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 0.626em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mtext" id="MathJax-Span-105" style="font-family: STIXGeneral-Regular;">&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.384em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.718em; vertical-align: -1.568em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-11">\begin{aligned}
\mathbb{E}(G) & = p_Bs_B + p_Rs_R = \frac{1}{2} + \sum_{k=1}^\infty p_R^{k-1} p_B \times 0 = \frac{1}{2} \ 
\end{aligned}</script></p>

<p><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-12-Frame"><nobr><span class="math" id="MathJax-Span-106" role="math" style="width: 26.307em; display: inline-block;"><span style="display: inline-block; position: relative; width: 20.865em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(0.513em 1000.003em 3.744em -999.997em); top: -2.378em; left: 0.003em;"><span class="mrow" id="MathJax-Span-107"><span class="mtable" id="MathJax-Span-108" style="padding-right: 0.173em; padding-left: 0.173em;"><span style="display: inline-block; position: relative; width: 20.468em; height: 0px;"><span style="position: absolute; clip: rect(2.894em 1000.003em 4.311em -999.997em); top: -4.022em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 2.44em; height: 0px;"><span style="position: absolute; clip: rect(2.951em 1000.003em 4.368em -999.997em); top: -4.079em; right: 0.003em;"><span class="mtd" id="MathJax-Span-109"><span class="mrow" id="MathJax-Span-110"><span class="texatom" id="MathJax-Span-111"><span class="mrow" id="MathJax-Span-112"><span class="mi" id="MathJax-Span-113" style="font-family: STIXGeneral-Regular;">𝔼</span></span></span><span class="mo" id="MathJax-Span-114" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-115"><span style="display: inline-block; position: relative; width: 1.137em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-116" style="font-family: STIXGeneral-Italic;">G</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.74em;"><span class="mn" id="MathJax-Span-117" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-118" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(2.157em 1000.003em 5.388em -999.997em); top: -4.022em; left: 2.44em;"><span style="display: inline-block; position: relative; width: 18.03em; height: 0px;"><span style="position: absolute; clip: rect(2.27em 1000.003em 5.445em -999.997em); top: -4.079em; left: 0.003em;"><span class="mtd" id="MathJax-Span-119"><span class="mrow" id="MathJax-Span-120"><span class="mi" id="MathJax-Span-121"></span><span class="mo" id="MathJax-Span-122" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="msubsup" id="MathJax-Span-123" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-124" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-125" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-126"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-127" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -4.362em; left: 0.4em;"><span class="mn" id="MathJax-Span-128" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -3.739em; left: 0.4em;"><span class="mi" id="MathJax-Span-129" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-130" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">+</span><span class="msubsup" id="MathJax-Span-131" style="padding-left: 0.23em;"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-132" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-133" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-134"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-135" style="font-family: STIXGeneral-Italic;">s</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -4.362em; left: 0.4em;"><span class="mn" id="MathJax-Span-136" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -3.739em; left: 0.4em;"><span class="mi" id="MathJax-Span-137" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-138" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mfrac" id="MathJax-Span-139" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 0.626em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-140" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -3.342em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-141" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 0.626em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mo" id="MathJax-Span-142" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">+</span><span class="munderover" id="MathJax-Span-143" style="padding-left: 0.23em;"><span style="display: inline-block; position: relative; width: 1.307em; height: 0px;"><span style="position: absolute; clip: rect(2.894em 1000.003em 4.651em -999.997em); top: -4.022em; left: 0.003em;"><span class="mo" id="MathJax-Span-144" style="font-family: STIXSizeOneSym; vertical-align: -0.507em;">∑</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.348em 1000.003em 4.311em -999.997em); top: -2.888em; left: 0.06em;"><span class="texatom" id="MathJax-Span-145"><span class="mrow" id="MathJax-Span-146"><span class="mi" id="MathJax-Span-147" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-148" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-149" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.461em 1000.003em 4.198em -999.997em); top: -5.213em; left: 0.343em;"><span class="mi" id="MathJax-Span-150" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∞</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-151" style="padding-left: 0.173em;"><span style="display: inline-block; position: relative; width: 1.76em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-152" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.348em 1000.003em 4.198em -999.997em); top: -4.362em; left: 0.513em;"><span class="texatom" id="MathJax-Span-153"><span class="mrow" id="MathJax-Span-154"><span class="mi" id="MathJax-Span-155" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-156" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-157" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -3.739em; left: 0.513em;"><span class="mi" id="MathJax-Span-158" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-159"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-160" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-161" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-162" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">×</span><span class="mn" id="MathJax-Span-163" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">0</span><span class="mo" id="MathJax-Span-164" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mfrac" id="MathJax-Span-165" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 0.626em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-166" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -3.342em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-167" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 0.626em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mtext" id="MathJax-Span-168" style="font-family: STIXGeneral-Regular;">&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.384em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.718em; vertical-align: -1.568em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-12">\begin{aligned}
\mathbb{E}(G^2) & = p_Bs_B^2 +  p_Rs_R^2 = \frac{1}{2} + \sum_{k=1}^\infty p_R^{k-1} p_B \times 0 = \frac{1}{2}\ 
\end{aligned}</script></p>

<p>The variance of the game is then defined via the definition.</p>

<p><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-13-Frame"><nobr><span class="math" id="MathJax-Span-169" role="math" style="width: 24.323em; display: inline-block;"><span style="display: inline-block; position: relative; width: 19.277em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(0.967em 1000.003em 3.348em -999.997em); top: -2.378em; left: 0.003em;"><span class="mrow" id="MathJax-Span-170"><span class="mtable" id="MathJax-Span-171" style="padding-right: 0.173em; padding-left: 0.173em;"><span style="display: inline-block; position: relative; width: 18.88em; height: 0px;"><span style="position: absolute; clip: rect(3.291em 1000.003em 4.481em -999.997em); top: -4.022em; left: 0.003em;"><span style="display: inline-block; position: relative; width: 3.007em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.368em -999.997em); top: -3.965em; right: 0.003em;"><span class="mtd" id="MathJax-Span-172"><span class="mrow" id="MathJax-Span-173"><span class="mi" id="MathJax-Span-174" style="font-family: STIXGeneral-Italic;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mi" id="MathJax-Span-175" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-176" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-177" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-178" style="font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-179" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(2.611em 1000.003em 4.991em -999.997em); top: -4.022em; left: 3.007em;"><span style="display: inline-block; position: relative; width: 15.876em; height: 0px;"><span style="position: absolute; clip: rect(2.497em 1000.003em 4.878em -999.997em); top: -3.965em; left: 0.003em;"><span class="mtd" id="MathJax-Span-180"><span class="mrow" id="MathJax-Span-181"><span class="mi" id="MathJax-Span-182"></span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="texatom" id="MathJax-Span-184" style="padding-left: 0.343em;"><span class="mrow" id="MathJax-Span-185"><span class="mi" id="MathJax-Span-186" style="font-family: STIXGeneral-Regular;">𝔼</span></span></span><span class="mo" id="MathJax-Span-187" style="font-family: STIXGeneral-Regular;">(</span><span class="msubsup" id="MathJax-Span-188"><span style="display: inline-block; position: relative; width: 1.137em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-189" style="font-family: STIXGeneral-Italic;">G</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.74em;"><span class="mn" id="MathJax-Span-190" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-191" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-192" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="msubsup" id="MathJax-Span-193" style="padding-left: 0.23em;"><span style="display: inline-block; position: relative; width: 3.121em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.368em -999.997em); top: -4.022em; left: 0.003em;"><span class="mrow" id="MathJax-Span-194"><span class="mo" id="MathJax-Span-195" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-196"><span class="mrow" id="MathJax-Span-197"><span class="mi" id="MathJax-Span-198" style="font-family: STIXGeneral-Regular;">𝔼</span></span></span><span class="mo" id="MathJax-Span-199" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-200" style="font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-201" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-202" style="font-family: STIXGeneral-Regular;">)</span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 2.667em;"><span class="mn" id="MathJax-Span-203" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-204" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mfrac" id="MathJax-Span-205" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 0.626em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-206" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -3.342em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-207" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 0.626em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mo" id="MathJax-Span-208" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="mo" id="MathJax-Span-209" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">[</span><span class="mfrac" id="MathJax-Span-210"><span style="display: inline-block; position: relative; width: 0.626em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-211" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -3.342em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-212" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 0.626em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-213"><span style="display: inline-block; position: relative; width: 0.74em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.368em -999.997em); top: -4.022em; left: 0.003em;"><span class="mo" id="MathJax-Span-214" style="font-family: STIXGeneral-Regular;">]</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.343em;"><span class="mn" id="MathJax-Span-215" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-216" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mfrac" id="MathJax-Span-217" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 0.626em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-218" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -3.342em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-219" style="font-family: STIXGeneral-Regular;">4</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 0.626em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mtext" id="MathJax-Span-220" style="font-family: STIXGeneral-Regular;">&nbsp;</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.384em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.718em; vertical-align: -1.068em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-13">\begin{aligned}
 Var(G) & = \mathbb{E}(G^2) - \left(\mathbb{E}(G)\right)^2 = \frac{1}{2} - [\frac{1}{2}]^2 = \frac{1}{4}\ 
\end{aligned}</script></p>

<p>So what happens when we play this game an infinite amount of time? </p>

<p><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-14-Frame"><nobr><span class="math" id="MathJax-Span-221" role="math" style="width: 13.438em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.66em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.25em 1000.003em 3.518em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-222"><span class="munderover" id="MathJax-Span-223"><span style="display: inline-block; position: relative; width: 1.647em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.173em;"><span class="mo" id="MathJax-Span-224" style="font-family: STIXGeneral-Regular;">lim</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.518em 1000.003em 4.311em -999.997em); top: -3.342em; left: 0.003em;"><span class="texatom" id="MathJax-Span-225"><span class="mrow" id="MathJax-Span-226"><span class="mi" id="MathJax-Span-227" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-228" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">→</span><span class="mi" id="MathJax-Span-229" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∞</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="texatom" id="MathJax-Span-230" style="padding-left: 0.173em;"><span class="mrow" id="MathJax-Span-231"><span class="mi" id="MathJax-Span-232" style="font-family: STIXGeneral-Regular;">𝔼</span></span></span><span class="mo" id="MathJax-Span-233" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-234" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-235" style="font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-236" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-237" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="munderover" id="MathJax-Span-238" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 1.647em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.173em;"><span class="mo" id="MathJax-Span-239" style="font-family: STIXGeneral-Regular;">lim</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.518em 1000.003em 4.311em -999.997em); top: -3.342em; left: 0.003em;"><span class="texatom" id="MathJax-Span-240"><span class="mrow" id="MathJax-Span-241"><span class="mi" id="MathJax-Span-242" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-243" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">→</span><span class="mi" id="MathJax-Span-244" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∞</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mfrac" id="MathJax-Span-245" style="padding-left: 0.173em;"><span style="display: inline-block; position: relative; width: 0.626em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -0.224em;"><span class="mi" id="MathJax-Span-246" style="font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -3.342em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-247" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 0.626em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mo" id="MathJax-Span-248" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mi" id="MathJax-Span-249" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">∞</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.504em; vertical-align: -1.068em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-14">  \lim_{n\to\infty} \mathbb{E}(nG) = \lim_{n\to\infty} \frac{n}{2} = \infty </script> 
<span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-15-Frame"><nobr><span class="math" id="MathJax-Span-250" role="math" style="width: 19.164em; display: inline-block;"><span style="display: inline-block; position: relative; width: 15.196em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(0.796em 1000.003em 3.971em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-251"><span class="munderover" id="MathJax-Span-252"><span style="display: inline-block; position: relative; width: 1.647em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.173em;"><span class="mo" id="MathJax-Span-253" style="font-family: STIXGeneral-Regular;">lim</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.518em 1000.003em 4.311em -999.997em); top: -3.342em; left: 0.003em;"><span class="texatom" id="MathJax-Span-254"><span class="mrow" id="MathJax-Span-255"><span class="mi" id="MathJax-Span-256" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-257" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">→</span><span class="mi" id="MathJax-Span-258" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∞</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mi" id="MathJax-Span-259" style="font-family: STIXGeneral-Italic; padding-left: 0.173em;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mi" id="MathJax-Span-260" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-261" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-262" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-263" style="font-family: STIXGeneral-Italic;">n</span><span class="mi" id="MathJax-Span-264" style="font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-265" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-266" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="munderover" id="MathJax-Span-267" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 1.647em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.173em;"><span class="mo" id="MathJax-Span-268" style="font-family: STIXGeneral-Regular;">lim</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.518em 1000.003em 4.311em -999.997em); top: -3.342em; left: 0.003em;"><span class="texatom" id="MathJax-Span-269"><span class="mrow" id="MathJax-Span-270"><span class="mi" id="MathJax-Span-271" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-272" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">→</span><span class="mi" id="MathJax-Span-273" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∞</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="munderover" id="MathJax-Span-274" style="padding-left: 0.173em;"><span style="display: inline-block; position: relative; width: 1.307em; height: 0px;"><span style="position: absolute; clip: rect(2.894em 1000.003em 4.651em -999.997em); top: -4.022em; left: 0.003em;"><span class="mo" id="MathJax-Span-275" style="font-family: STIXSizeOneSym; vertical-align: -0.507em;">∑</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.404em 1000.003em 4.311em -999.997em); top: -2.888em; left: 0.116em;"><span class="texatom" id="MathJax-Span-276"><span class="mrow" id="MathJax-Span-277"><span class="mi" id="MathJax-Span-278" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">i</span><span class="mo" id="MathJax-Span-279" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">=</span><span class="mn" id="MathJax-Span-280" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.461em 1000.003em 4.198em -999.997em); top: -5.213em; left: 0.456em;"><span class="mi" id="MathJax-Span-281" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mi" id="MathJax-Span-282" style="font-family: STIXGeneral-Italic; padding-left: 0.173em;">V<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.06em;"></span></span><span class="mi" id="MathJax-Span-283" style="font-family: STIXGeneral-Italic;">a</span><span class="mi" id="MathJax-Span-284" style="font-family: STIXGeneral-Italic;">r<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-285" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-286" style="font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-287" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-288" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mi" id="MathJax-Span-289" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">∞</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.789em; vertical-align: -1.639em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-15">  \lim_{n\to\infty} Var(nG) = \lim_{n\to\infty} \sum_{i=1}^n Var(G) = \infty </script> </p>

<p>This could feel very curious but should come with no suprise. If we play the game an infinite amount of time we will have an infinite amount of risk. In laymans terms, if you want to earn an infinite amount of money you will need an infite amount of money. </p>

<h3>Gamblers Fail</h3>

<p>Even if we assume that you have an infinite amount of betting money, the tactic will still fail in real life. The main reasons is that casinos tend to apply a maximum bet in all their gambling games. You can never bet above a certain amount in the casino which means that you cannot apply the 'doubling' tactic infinetely.</p>

<p>How likely is it to hit a casino limit during a game? Let <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-16-Frame"><nobr><span class="math" id="MathJax-Span-290" role="math" style="width: 0.57em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.456em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.704em 1000.003em 2.724em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-291"><span class="mi" id="MathJax-Span-292" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.004em; vertical-align: -0.068em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-16">k</script> be the number of sequential losses in a game and let <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-17-Frame"><nobr><span class="math" id="MathJax-Span-293" role="math" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.513em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.93em 1000.003em 2.724em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-294"><span class="mi" id="MathJax-Span-295" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.718em; vertical-align: -0.068em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-17">n</script> be the number of bets played. Then the probability of having no losses in one game is defined by the following. </p>

<p><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-18-Frame"><nobr><span class="math" id="MathJax-Span-296" role="math" style="width: 34.016em; display: inline-block;"><span style="display: inline-block; position: relative; width: 26.987em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(0.796em 1000.003em 3.574em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-297"><span class="texatom" id="MathJax-Span-298"><span class="mrow" id="MathJax-Span-299"><span class="mi" id="MathJax-Span-300" style="font-family: STIXGeneral-Regular;">ℙ</span></span></span><span class="mo" id="MathJax-Span-301" style="font-family: STIXGeneral-Regular;">(</span><span class="mtext" id="MathJax-Span-302" style="font-family: STIXGeneral-Regular;">no loss in 1 game</span><span class="mo" id="MathJax-Span-303" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-304" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mn" id="MathJax-Span-305" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">1</span><span class="mo" id="MathJax-Span-306" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="texatom" id="MathJax-Span-307" style="padding-left: 0.23em;"><span class="mrow" id="MathJax-Span-308"><span class="mi" id="MathJax-Span-309" style="font-family: STIXGeneral-Regular;">ℙ</span></span></span><span class="mo" id="MathJax-Span-310" style="font-family: STIXGeneral-Regular;">(</span><span class="mtext" id="MathJax-Span-311" style="font-family: STIXGeneral-Regular;">loss in 1 game</span><span class="mo" id="MathJax-Span-312" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-313" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mn" id="MathJax-Span-314" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">1</span><span class="mo" id="MathJax-Span-315" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="mfrac" id="MathJax-Span-316" style="padding-left: 0.23em;"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-317" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(2.951em 1000.003em 4.198em -999.997em); top: -3.172em; left: 50%; margin-left: -0.451em;"><span class="msubsup" id="MathJax-Span-318"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mn" id="MathJax-Span-319" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.513em;"><span class="mi" id="MathJax-Span-320" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 1.023em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mo" id="MathJax-Span-321" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mfrac" id="MathJax-Span-322" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 2.667em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(2.951em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -1.244em;"><span class="mrow" id="MathJax-Span-323"><span class="msubsup" id="MathJax-Span-324"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mn" id="MathJax-Span-325" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.513em;"><span class="mi" id="MathJax-Span-326" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-327" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="mn" id="MathJax-Span-328" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">1</span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(2.951em 1000.003em 4.198em -999.997em); top: -3.172em; left: 50%; margin-left: -0.451em;"><span class="msubsup" id="MathJax-Span-329"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mn" id="MathJax-Span-330" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.513em;"><span class="mi" id="MathJax-Span-331" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 2.667em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.218em; vertical-align: -1.139em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-18"> \mathbb{P}(\text{no loss in 1 game}) = 1 - \mathbb{P}(\text{loss in 1 game}) = 1 - \frac{1}{2^k} = \frac{2^k - 1}{2^k}</script> </p>

<p>This can then be expanded to playing <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-19-Frame"><nobr><span class="math" id="MathJax-Span-332" role="math" style="width: 0.683em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.513em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.93em 1000.003em 2.724em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-333"><span class="mi" id="MathJax-Span-334" style="font-family: STIXGeneral-Italic;">n</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 0.718em; vertical-align: -0.068em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-19">n</script> games. </p>

<p><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-20-Frame"><nobr><span class="math" id="MathJax-Span-335" role="math" style="width: 38.041em; display: inline-block;"><span style="display: inline-block; position: relative; width: 30.162em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(0.796em 1000.003em 3.688em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-336"><span class="texatom" id="MathJax-Span-337"><span class="mrow" id="MathJax-Span-338"><span class="mi" id="MathJax-Span-339" style="font-family: STIXGeneral-Regular;">ℙ</span></span></span><span class="mo" id="MathJax-Span-340" style="font-family: STIXGeneral-Regular;">(</span><span class="mtext" id="MathJax-Span-341" style="font-family: STIXGeneral-Regular;">at least one loss in n games</span><span class="mo" id="MathJax-Span-342" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-343" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="texatom" id="MathJax-Span-344" style="padding-left: 0.343em;"><span class="mrow" id="MathJax-Span-345"><span class="mi" id="MathJax-Span-346" style="font-family: STIXGeneral-Regular;">ℙ</span></span></span><span class="mo" id="MathJax-Span-347" style="font-family: STIXGeneral-Regular;">(</span><span class="mtext" id="MathJax-Span-348" style="font-family: STIXGeneral-Regular;">no loss in n games</span><span class="mo" id="MathJax-Span-349" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-350" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mn" id="MathJax-Span-351" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">1</span><span class="mo" id="MathJax-Span-352" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="msubsup" id="MathJax-Span-353" style="padding-left: 0.23em;"><span style="display: inline-block; position: relative; width: 4.821em; height: 0px;"><span style="position: absolute; clip: rect(2.27em 1000.003em 5.162em -999.997em); top: -4.022em; left: 0.003em;"><span class="mrow" id="MathJax-Span-354"><span class="mo" id="MathJax-Span-355" style="vertical-align: -0.564em;"><span style="font-family: STIXSizeThreeSym;">(</span></span><span class="mfrac" id="MathJax-Span-356"><span style="display: inline-block; position: relative; width: 2.667em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(2.951em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -1.244em;"><span class="mrow" id="MathJax-Span-357"><span class="msubsup" id="MathJax-Span-358"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mn" id="MathJax-Span-359" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.513em;"><span class="mi" id="MathJax-Span-360" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-361" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="mn" id="MathJax-Span-362" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">1</span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(2.951em 1000.003em 4.198em -999.997em); top: -3.172em; left: 50%; margin-left: -0.451em;"><span class="msubsup" id="MathJax-Span-363"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mn" id="MathJax-Span-364" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.513em;"><span class="mi" id="MathJax-Span-365" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 2.667em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mo" id="MathJax-Span-366" style="vertical-align: -0.564em;"><span style="font-family: STIXSizeThreeSym;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -5.326em; left: 4.425em;"><span class="mi" id="MathJax-Span-367" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.432em; vertical-align: -1.282em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-20"> \mathbb{P}(\text{at least one loss in n games}) = \mathbb{P}(\text{no loss in n games}) = 1 - \left( \frac{2^k-1}{2^k} \right)^n </script></p>

<p>Notice that you cannot play the game for an infinite amount of time now without risking such a loss.</p>

<p><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-21-Frame"><nobr><span class="math" id="MathJax-Span-368" role="math" style="width: 16.953em; display: inline-block;"><span style="display: inline-block; position: relative; width: 13.438em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(0.796em 1000.003em 3.688em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-369"><span class="munderover" id="MathJax-Span-370"><span style="display: inline-block; position: relative; width: 1.647em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.173em;"><span class="mo" id="MathJax-Span-371" style="font-family: STIXGeneral-Regular;">lim</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.518em 1000.003em 4.311em -999.997em); top: -3.342em; left: 0.003em;"><span class="texatom" id="MathJax-Span-372"><span class="mrow" id="MathJax-Span-373"><span class="mi" id="MathJax-Span-374" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-375" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">→</span><span class="mi" id="MathJax-Span-376" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">∞</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mn" id="MathJax-Span-377" style="font-family: STIXGeneral-Regular; padding-left: 0.173em;">1</span><span class="mo" id="MathJax-Span-378" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="msubsup" id="MathJax-Span-379" style="padding-left: 0.23em;"><span style="display: inline-block; position: relative; width: 4.821em; height: 0px;"><span style="position: absolute; clip: rect(2.27em 1000.003em 5.162em -999.997em); top: -4.022em; left: 0.003em;"><span class="mrow" id="MathJax-Span-380"><span class="mo" id="MathJax-Span-381" style="vertical-align: -0.564em;"><span style="font-family: STIXSizeThreeSym;">(</span></span><span class="mfrac" id="MathJax-Span-382"><span style="display: inline-block; position: relative; width: 2.667em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(2.951em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -1.244em;"><span class="mrow" id="MathJax-Span-383"><span class="msubsup" id="MathJax-Span-384"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mn" id="MathJax-Span-385" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.513em;"><span class="mi" id="MathJax-Span-386" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-387" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="mn" id="MathJax-Span-388" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">1</span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(2.951em 1000.003em 4.198em -999.997em); top: -3.172em; left: 50%; margin-left: -0.451em;"><span class="msubsup" id="MathJax-Span-389"><span style="display: inline-block; position: relative; width: 0.91em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="mn" id="MathJax-Span-390" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.513em;"><span class="mi" id="MathJax-Span-391" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 2.667em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mo" id="MathJax-Span-392" style="vertical-align: -0.564em;"><span style="font-family: STIXSizeThreeSym;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -5.326em; left: 4.425em;"><span class="mi" id="MathJax-Span-393" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">n</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-394" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mn" id="MathJax-Span-395" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">1</span><span class="mo" id="MathJax-Span-396" style="font-family: STIXGeneral-Regular;">,</span><span class="mi" id="MathJax-Span-397" style="font-family: STIXGeneral-Regular; padding-left: 0.173em;">∀</span><span class="mi" id="MathJax-Span-398" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-399" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">≥</span><span class="mn" id="MathJax-Span-400" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">1</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 3.432em; vertical-align: -1.282em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-21"> \lim_{n\to\infty} 1 - \left( \frac{2^k-1}{2^k} \right)^n = 1,  \forall k \geq 1 </script> </p>

<div class="codehilite"><pre><span class="nx">f</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">k</span><span class="p">,</span><span class="nx">n</span><span class="p">){</span>
  <span class="mi">1</span> <span class="o">-</span> <span class="p">(</span> <span class="p">(</span><span class="mi">2</span><span class="o">^</span><span class="nx">k</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="o">/</span> <span class="p">(</span> <span class="mi">2</span><span class="o">^</span><span class="nx">k</span> <span class="p">)</span> <span class="p">)</span><span class="o">^</span><span class="nx">n</span>
<span class="p">}</span>

<span class="nx">df</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">frame</span><span class="p">(</span><span class="nx">prob</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="mi">9</span><span class="p">,</span><span class="mi">1</span><span class="o">:</span><span class="mi">10000</span><span class="p">),</span> <span class="nx">n</span><span class="o">=</span><span class="mi">1</span><span class="o">:</span><span class="mi">10000</span><span class="p">,</span> <span class="nx">limit</span><span class="o">=</span><span class="s2">" 512"</span><span class="p">)</span>
<span class="nx">df</span> <span class="o">=</span> <span class="nx">rbind</span><span class="p">(</span><span class="nx">df</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">frame</span><span class="p">(</span><span class="nx">prob</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">1</span><span class="o">:</span><span class="mi">10000</span><span class="p">),</span> <span class="nx">n</span><span class="o">=</span><span class="mi">1</span><span class="o">:</span><span class="mi">10000</span><span class="p">,</span> <span class="nx">limit</span><span class="o">=</span><span class="s1">'1024'</span><span class="p">))</span>
<span class="nx">df</span> <span class="o">=</span> <span class="nx">rbind</span><span class="p">(</span><span class="nx">df</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">frame</span><span class="p">(</span><span class="nx">prob</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="mi">1</span><span class="o">:</span><span class="mi">10000</span><span class="p">),</span> <span class="nx">n</span><span class="o">=</span><span class="mi">1</span><span class="o">:</span><span class="mi">10000</span><span class="p">,</span> <span class="nx">limit</span><span class="o">=</span><span class="s1">'2048'</span><span class="p">))</span>
<span class="nx">df</span> <span class="o">=</span> <span class="nx">rbind</span><span class="p">(</span><span class="nx">df</span><span class="p">,</span> <span class="nx">data</span><span class="p">.</span><span class="nx">frame</span><span class="p">(</span><span class="nx">prob</span><span class="o">=</span><span class="nx">f</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">1</span><span class="o">:</span><span class="mi">10000</span><span class="p">),</span> <span class="nx">n</span><span class="o">=</span><span class="mi">1</span><span class="o">:</span><span class="mi">10000</span><span class="p">,</span> <span class="nx">limit</span><span class="o">=</span><span class="s1">'4096'</span><span class="p">))</span>

<span class="nx">p</span> <span class="o">=</span> <span class="nx">ggplot</span><span class="p">()</span>
<span class="nx">p</span> <span class="o">=</span> <span class="nx">p</span> <span class="o">+</span> <span class="nx">geom_line</span><span class="p">(</span><span class="nx">data</span><span class="o">=</span><span class="nx">df</span><span class="p">,</span> <span class="nx">aes</span><span class="p">(</span><span class="nx">n</span><span class="p">,</span> <span class="nx">prob</span><span class="p">,</span> <span class="nx">colour</span><span class="o">=</span><span class="nx">limit</span><span class="p">))</span>
<span class="nx">p</span> <span class="o">+</span> <span class="nx">ggtitle</span><span class="p">(</span><span class="s2">"probability of hitting budget limit after 'n' gambles"</span><span class="p">)</span>
</pre></div>

<p><img alt="gr9" src="/theme/images/r-gamblers-ruin/gr9.png"></p>

<p>Also notice that if we consider the casino bounds then the expected value of the game <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-22-Frame"><nobr><span class="math" id="MathJax-Span-401" role="math" style="width: 0.967em; display: inline-block;"><span style="display: inline-block; position: relative; width: 0.74em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.704em 1000.003em 2.724em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-402"><span class="mi" id="MathJax-Span-403" style="font-family: STIXGeneral-Italic;">G</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.004em; vertical-align: -0.068em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-22">G</script> we defined earlier suddenly becomes zero. </p>

<p><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-23-Frame"><nobr><span class="math" id="MathJax-Span-404" role="math" style="width: 23.075em; display: inline-block;"><span style="display: inline-block; position: relative; width: 18.313em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.023em 1000.003em 3.404em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-405"><span class="texatom" id="MathJax-Span-406"><span class="mrow" id="MathJax-Span-407"><span class="mi" id="MathJax-Span-408" style="font-family: STIXGeneral-Regular;">𝔼</span></span></span><span class="mo" id="MathJax-Span-409" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-410" style="font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-411" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-412" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="msubsup" id="MathJax-Span-413" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-414" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-415" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-416" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">×</span><span class="mn" id="MathJax-Span-417" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">1</span><span class="mo" id="MathJax-Span-418" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="msubsup" id="MathJax-Span-419" style="padding-left: 0.23em;"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-420" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-421" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-422"><span style="display: inline-block; position: relative; width: 2.27em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="texatom" id="MathJax-Span-423"><span class="mrow" id="MathJax-Span-424"><span class="msubsup" id="MathJax-Span-425"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-426" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-427" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 1.023em;"><span class="texatom" id="MathJax-Span-428"><span class="mrow" id="MathJax-Span-429"><span class="mi" id="MathJax-Span-430" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-431" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-432" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-433"><span style="display: inline-block; position: relative; width: 1.76em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="texatom" id="MathJax-Span-434"><span class="mrow" id="MathJax-Span-435"><span class="mn" id="MathJax-Span-436" style="font-family: STIXGeneral-Regular;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.513em;"><span class="texatom" id="MathJax-Span-437"><span class="mrow" id="MathJax-Span-438"><span class="mi" id="MathJax-Span-439" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-440" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-441" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-442" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mfrac" id="MathJax-Span-443" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 0.626em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-444" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -3.342em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-445" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 0.626em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mo" id="MathJax-Span-446" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="mfrac" id="MathJax-Span-447" style="padding-left: 0.23em;"><span style="display: inline-block; position: relative; width: 0.626em; height: 0px; margin-right: 0.116em; margin-left: 0.116em;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.702em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-448" style="font-family: STIXGeneral-Regular;">1</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -3.342em; left: 50%; margin-left: -0.224em;"><span class="mn" id="MathJax-Span-449" style="font-family: STIXGeneral-Regular;">2</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; clip: rect(0.853em 1000.003em 1.25em -999.997em); top: -1.301em; left: 0.003em;"><span style="border-left-width: 0.626em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.25px; vertical-align: 0.003em;"></span><span style="display: inline-block; width: 0px; height: 1.08em;"></span></span></span></span><span class="mo" id="MathJax-Span-450" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mn" id="MathJax-Span-451" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">0</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 2.718em; vertical-align: -0.925em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-23"> \mathbb{E}(G) = p_B \times 1 - p_B{p_R}^{k-1} {2}^{k-1} = \frac{1}{2} - \frac{1}{2} = 0 </script></p>

<p>This conclusion changes further if we stop assuming that <span class="MathJax_Preview" style="color: inherit;"></span><span class="MathJax" id="MathJax-Element-24-Frame"><nobr><span class="math" id="MathJax-Span-452" role="math" style="width: 7.656em; display: inline-block;"><span style="display: inline-block; position: relative; width: 6.069em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.704em 1000.003em 2.951em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-453"><span class="msubsup" id="MathJax-Span-454"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-455" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-456" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-457" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="msubsup" id="MathJax-Span-458" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-459" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-460" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-461" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mn" id="MathJax-Span-462" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">0.5</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.289em; vertical-align: -0.354em;"></span></span></nobr></span><script type="math/tex" id="MathJax-Element-24">p_B = p_R = 0.5</script>. In the more realistic casino game (by also considering the number 37 to the casino board) the expected value would now become: </p>

<p><span class="MathJax_Preview" style="color: inherit;"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-25-Frame"><nobr><span class="math" id="MathJax-Span-463" role="math" style="width: 30.899em; display: inline-block;"><span style="display: inline-block; position: relative; width: 24.493em; height: 0px; font-size: 126%;"><span style="position: absolute; clip: rect(1.477em 1000.003em 2.951em -999.997em); top: -2.548em; left: 0.003em;"><span class="mrow" id="MathJax-Span-464"><span class="texatom" id="MathJax-Span-465"><span class="mrow" id="MathJax-Span-466"><span class="mi" id="MathJax-Span-467" style="font-family: STIXGeneral-Regular;">𝔼</span></span></span><span class="mo" id="MathJax-Span-468" style="font-family: STIXGeneral-Regular;">(</span><span class="mi" id="MathJax-Span-469" style="font-family: STIXGeneral-Italic;">G</span><span class="mo" id="MathJax-Span-470" style="font-family: STIXGeneral-Regular;">)</span><span class="mo" id="MathJax-Span-471" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="msubsup" id="MathJax-Span-472" style="padding-left: 0.343em;"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-473" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-474" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-475" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">×</span><span class="mn" id="MathJax-Span-476" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">1</span><span class="mo" id="MathJax-Span-477" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="msubsup" id="MathJax-Span-478" style="padding-left: 0.23em;"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-479" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.513em;"><span class="mi" id="MathJax-Span-480" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">B</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-481"><span style="display: inline-block; position: relative; width: 2.27em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="texatom" id="MathJax-Span-482"><span class="mrow" id="MathJax-Span-483"><span class="msubsup" id="MathJax-Span-484"><span style="display: inline-block; position: relative; width: 1.023em; height: 0px;"><span style="position: absolute; clip: rect(3.404em 1000.003em 4.425em -999.997em); top: -4.022em; left: 0.003em;"><span class="mi" id="MathJax-Span-485" style="font-family: STIXGeneral-Italic;">p</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -3.852em; left: 0.513em;"><span class="mi" id="MathJax-Span-486" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">R</span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 1.023em;"><span class="texatom" id="MathJax-Span-487"><span class="mrow" id="MathJax-Span-488"><span class="mi" id="MathJax-Span-489" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-490" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-491" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="msubsup" id="MathJax-Span-492"><span style="display: inline-block; position: relative; width: 1.76em; height: 0px;"><span style="position: absolute; clip: rect(3.177em 1000.003em 4.198em -999.997em); top: -4.022em; left: 0.003em;"><span class="texatom" id="MathJax-Span-493"><span class="mrow" id="MathJax-Span-494"><span class="mn" id="MathJax-Span-495" style="font-family: STIXGeneral-Regular;">2</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span><span style="position: absolute; top: -4.419em; left: 0.513em;"><span class="texatom" id="MathJax-Span-496"><span class="mrow" id="MathJax-Span-497"><span class="mi" id="MathJax-Span-498" style="font-size: 70.7%; font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span class="mo" id="MathJax-Span-499" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">−</span><span class="mn" id="MathJax-Span-500" style="font-size: 70.7%; font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.028em;"></span></span></span></span><span class="mo" id="MathJax-Span-501" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mn" id="MathJax-Span-502" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">0.4865</span><span class="mo" id="MathJax-Span-503" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">−</span><span class="mn" id="MathJax-Span-504" style="font-family: STIXGeneral-Regular; padding-left: 0.23em;">0.5135</span><span class="mo" id="MathJax-Span-505" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">=</span><span class="mo" id="MathJax-Span-506" style="font-family: STIXGeneral-Regular; padding-left: 0.343em;">−</span><span class="mn" id="MathJax-Span-507" style="font-family: STIXGeneral-Regular;">0.027</span></span><span style="display: inline-block; width: 0px; height: 2.554em;"></span></span></span><span style="border-left-width: 0.004em; border-left-style: solid; display: inline-block; overflow: hidden; width: 0px; height: 1.504em; vertical-align: -0.354em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-25"> \mathbb{E}(G) = p_B \times 1 - p^B{p_R}^{k-1} {2}^{k-1} = 0.4865 - 0.5135 = -0.027 </script></p>

<h3>Including Fail in Simulations</h3>

<p>Let's run some more simulations again with these facts in mind. </p>

<div class="codehilite"><pre><span class="nx">nextm</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">gamble</span><span class="p">,</span> <span class="nx">outcome</span><span class="p">){</span>
  <span class="k">if</span><span class="p">(</span><span class="nx">outcome</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">gamble</span> <span class="o">&gt;</span> <span class="mi">500</span><span class="p">){</span>
      <span class="k">return</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="nx">gamble</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="mi">1</span>
<span class="p">}</span>

<span class="nx">gamble</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">moneyin</span><span class="p">){</span>
  <span class="k">if</span><span class="p">(</span> <span class="nx">runif</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mf">0.4865</span> <span class="p">)</span> <span class="k">return</span><span class="p">(</span><span class="nx">moneyin</span><span class="p">)</span> <span class="err">#</span> <span class="nx">result</span> <span class="nx">is</span> <span class="nx">black</span>
  <span class="o">-</span><span class="nx">moneyin</span> <span class="err">#</span> <span class="nx">result</span> <span class="nx">is</span> <span class="nx">red</span>
<span class="p">}</span>

<span class="nx">gamblersruin</span><span class="p">(</span><span class="mi">50</span><span class="p">,</span><span class="mi">2500</span><span class="p">)</span> <span class="o">+</span> <span class="nx">ggtitle</span><span class="p">(</span><span class="s2">"50 more realistic simulations"</span><span class="p">)</span>
</pre></div>

<p><img alt="gr10" src="/theme/images/r-gamblers-ruin/gr10.png"></p>

<p>And we can see that these outcomes seem to spread out. Making a histogram of the endgame states shows us how flawed the tactic really is. </p>

<div class="codehilite"><pre><span class="nx">gamblersend</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">num</span><span class="p">,</span> <span class="nx">maxsim</span><span class="p">){</span>
  <span class="nx">df</span> <span class="o">=</span> <span class="nx">data</span><span class="p">.</span><span class="nx">frame</span><span class="p">(</span><span class="nx">time</span><span class="o">=</span><span class="nx">as</span><span class="p">.</span><span class="nx">numeric</span><span class="p">(</span><span class="nx">c</span><span class="p">()),</span> <span class="nx">money</span><span class="o">=</span><span class="nx">as</span><span class="p">.</span><span class="nx">numeric</span><span class="p">(</span><span class="nx">c</span><span class="p">()))</span>
  <span class="k">for</span><span class="p">(</span><span class="nx">i</span> <span class="k">in</span> <span class="mi">1</span><span class="o">:</span><span class="nx">num</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span> <span class="nx">i</span> <span class="o">%%</span> <span class="mi">5</span> <span class="o">==</span> <span class="mi">0</span> <span class="p">){</span>
      <span class="nx">cat</span><span class="p">(</span><span class="nx">i</span><span class="p">,</span> <span class="s1">'simulations have now run\n'</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="nx">df</span> <span class="o">=</span> <span class="nx">rbind</span><span class="p">(</span><span class="nx">df</span><span class="p">,</span> <span class="nx">simulate</span><span class="p">(</span><span class="nx">maxsim</span><span class="p">)</span><span class="cp">[</span><span class="nx">maxsim</span><span class="p">,</span><span class="cp">]</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="nx">df</span>
<span class="p">}</span>

<span class="nx">ends</span> <span class="o">=</span> <span class="nx">gamblersend</span><span class="p">(</span><span class="mi">200</span><span class="p">,</span><span class="mi">2500</span><span class="p">)</span> <span class="err">#</span> <span class="nx">big</span> <span class="nx">simulation</span><span class="p">,</span> <span class="nx">warning</span><span class="p">,</span> <span class="nx">takes</span> <span class="kr">long</span>
<span class="nx">p</span> <span class="o">=</span> <span class="nx">ggplot</span><span class="p">()</span> 
<span class="nx">p</span> <span class="o">=</span> <span class="nx">p</span> <span class="o">+</span> <span class="nx">geom_histogram</span><span class="p">(</span><span class="nx">data</span><span class="o">=</span><span class="nx">ends</span><span class="p">,</span> <span class="nx">aes</span><span class="p">(</span><span class="nx">money</span><span class="p">),</span> <span class="nx">alpha</span><span class="o">=</span><span class="mf">0.9</span><span class="p">,</span> <span class="nx">binwidth</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
<span class="nx">p</span> <span class="o">+</span> <span class="nx">ggtitle</span><span class="p">(</span><span class="s2">"histogram of casino outcomes after 2500 bets"</span><span class="p">)</span>
</pre></div>

<p><img alt="gr11" src="/theme/images/r-gamblers-ruin/gr11.png"></p>

<p>The tactic simply isn't leading to a lead positive result, we are definately making an average loss with this tactic.</p>

<div class="codehilite"><pre><span class="o">&gt;</span> <span class="n">mean</span><span class="p">(</span><span class="n">ends</span><span class="err">$</span><span class="n">money</span><span class="p">)</span>
<span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">-</span><span class="mf">336.2</span>
</pre></div>

<h1>Conclusion</h1>

<p>These infinite betting strategies where the outcome seems riskless are known as <em>martingales</em>, you can find more information about them on wikipedia. Mathematics is a nice tool and should not be ignored when tackling these strategies but to confirm their flaws with something maybe a little more tangible R can be a great tool. Creating and running simulations in R is easier if you split your simulation into smaller functional bits. The lazy evaluation of ggplot can also be of help to keep the code you need clean. </p></div>
	<hr>
</div>
        <br>
  		</div>
  	</div>
  </div>

  <div class="container">
  	<div class="row">
  		<div class="col-md-12 text-center center-block aw-bottom">
  			<p>Vincent D. Warmerdam Made with Pelican</p>
  		</div>
  	</div>
  </div>
  <!-- JavaScript -->
  <script src="/theme/js/jquery-2.1.3.min.js"></script>
  <script type="text/javascript">
  jQuery(document).ready(function($) {
  	$("div.collapseheader").click(function () {
  		$header = $(this).children("span").first();
  		$codearea = $(this).children(".input_area");
  		$codearea.slideToggle(500, function () {
  			$header.text(function () {
  				return $codearea.is(":visible") ? "Collapse Code" : "Expand Code";
  			});
  		});
  	});
  });

  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-28011256-6', 'auto');
  ga('send', 'pageview');

</script>
</body>
</html>